# üïê ClockW3 - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

## üìê –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

### 1. **–ë–∞–∑–æ–≤—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è**

```swift
let size = geometry.size              // –†–∞–∑–º–µ—Ä Canvas (—à–∏—Ä–∏–Ω–∞ √ó –≤—ã—Å–æ—Ç–∞ –≤ points)
let baseRadius = min(size.width, size.height) / 2.0 * 0.85  // –ë–∞–∑–æ–≤—ã–π —Ä–∞–¥–∏—É—Å —á–∞—Å–æ–≤
let center = CGPoint(x: size.width / 2, y: size.height / 2) // –¶–µ–Ω—Ç—Ä —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞
```

**–ö–ª—é—á–µ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:** –í—Å—ë –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `baseRadius`

### 2. **–¢–æ—á–∫–∞ –æ—Ç—Å—á—ë—Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**

```
     0¬∞
      ‚Üë (12:00)
      |
‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí
270¬∞  center  90¬∞
      |
      ‚Üì
    180¬∞
```

**–ù–û!** –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–¥—Ä—É–≥–∞—è —Ç–æ—á–∫–∞ –æ—Ç—Å—á—ë—Ç–∞:**

```swift
// 18:00 = 0¬∞ (—Ç–æ—á–∫–∞ –æ—Ç—Å—á—ë—Ç–∞ —Å–ø—Ä–∞–≤–∞ ‚Üí)
let degrees = hour24 * 15.0 - 18.0 * 15.0
```

**–í–∏–∑—É–∞–ª—å–Ω–æ:**
```
      06:00 (–≤–≤–µ—Ä—Ö ‚Üë)
         |
12:00 ‚Üê‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚Üí 18:00 = 0¬∞ ‚Üê –¢–û–ß–ö–ê –û–¢–°–ß–Å–¢–ê!
         |
      00:00 (–≤–Ω–∏–∑ ‚Üì)
```

### 3. **–£–≥–ª—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

| –í—Ä–µ–º—è | –ì—Ä–∞–¥—É—Å—ã (–æ—Ç 18:00) | –†–∞–¥–∏–∞–Ω—ã | –ü–æ–∑–∏—Ü–∏—è |
|-------|-------------------|---------|---------|
| 18:00 | 0¬∞ | 0 | ‚Üí –ü—Ä–∞–≤–æ |
| 00:00 | 90¬∞ | œÄ/2 | ‚Üì –ù–∏–∑ |
| 06:00 | 180¬∞ | œÄ | ‚Üê –õ–µ–≤–æ |
| 12:00 | 270¬∞ | 3œÄ/2 | ‚Üë –í–µ—Ä—Ö |

**–í–∞–∂–Ω–æ:** –£–≥–ª—ã **–û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–´–ï** –∏–∑-–∑–∞ `-CGFloat(degrees)`:
```swift
return -CGFloat(degrees) * .pi / 180.0
```

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—Ä–∞—â–µ–Ω–∏–µ **–ø—Ä–æ—Ç–∏–≤** —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏ –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö, –Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ - **–ø–æ** —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ.

---

## üéØ –†–∞–¥–∏—É—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ baseRadius)

### –°—Ç–∞—Ç–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

```swift
// –¶–∏—Ñ–µ—Ä–±–ª–∞—Ç
baseRadius * 1.0          // 100% - –≤–Ω–µ—à–Ω–∏–π –∫—Ä–∞–π —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞

// –¢–∏–∫–∏ (–¥–µ–ª–µ–Ω–∏—è)
baseRadius * 0.85         // 85%  - –≤–Ω–µ—à–Ω–∏–π –∫—Ä–∞–π —Ç–∏–∫–æ–≤
baseRadius * 0.78         // 78%  - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—Ä–∞–π —á–∞—Å–æ–≤—ã—Ö —Ç–∏–∫–æ–≤
baseRadius * 0.80         // 80%  - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—Ä–∞–π –ø–æ–ª—É—á–∞—Å–æ–≤—ã—Ö —Ç–∏–∫–æ–≤
baseRadius * 0.82         // 82%  - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—Ä–∞–π 15-–º–∏–Ω—É—Ç–Ω—ã—Ö —Ç–∏–∫–æ–≤

// –ß–∏—Å–ª–∞ —á–∞—Å–æ–≤ (1-24)
baseRadius * 0.70         // 70%  - –ø–æ–∑–∏—Ü–∏—è —Ü–∏—Ñ—Ä —á–∞—Å–æ–≤

// –ì–ª–æ–±—É—Å (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç)
baseRadius * 0.62         // 62%  - —Ä–∞–¥–∏—É—Å –≥–ª–æ–±—É—Å–∞

// –î–Ω–∏ –º–µ—Å—è—Ü–∞ (–≤–Ω–µ—à–Ω–µ–µ –∫–æ–ª—å—Ü–æ)
baseRadius * 0.93         // 93%  - –ø–æ–∑–∏—Ü–∏—è –¥–Ω–µ–π –º–µ—Å—è—Ü–∞
baseRadius * 0.06         // 6%   - —Ä–∞–¥–∏—É—Å –ø—É–∑—ã—Ä—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
```

### –í—Ä–∞—â–∞—é—â–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã (—Å—Ç—Ä–µ–ª–∫–∏ –≥–æ—Ä–æ–¥–æ–≤):

```swift
// –°—Ç—Ä–µ–ª–∫–∏
baseRadius * 0.7          // 70%  - –∫–æ–Ω–µ—Ü —Å—Ç—Ä–µ–ª–∫–∏ (–º–µ–∂–¥—É –≥–ª–æ–±—É—Å–æ–º –∏ —Ü–∏—Ñ—Ä–∞–º–∏)
baseRadius * 0.01         // 1%   - —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏

// –ü–æ–¥–ø–∏—Å–∏ –≥–æ—Ä–æ–¥–æ–≤ (–Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç—Ä–µ–ª–∫–∏)
size.width * 0.04         // 4%   - —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
size.width * 0.12         // 12%  - —à–∏—Ä–∏–Ω–∞ –∫–∞–ø—Å—É–ª—ã –ø–æ–¥–ø–∏—Å–∏
size.width * 0.05         // 5%   - –≤—ã—Å–æ—Ç–∞ –∫–∞–ø—Å—É–ª—ã –ø–æ–¥–ø–∏—Å–∏

// Weekday bubbles (–Ω–∞ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–µ–ª–∫–∏)
baseRadius * 1.0          // 100% - –ø–æ–∑–∏—Ü–∏—è –ø—É–∑—ã—Ä—è (–∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞)
baseRadius * 0.035        // 3.5% - —Ä–∞–¥–∏—É—Å –ø—É–∑—ã—Ä—è
size.width * 0.03         // 3%   - —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —Ü–∏—Ñ—Ä—ã
```

---

## üîÑ –°–∏—Å—Ç–µ–º–∞ —É–≥–ª–æ–≤

### –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ —É–≥–ª–∞ –¥–ª—è —á–∞—Å–∞:

```swift
// 1. –ß–∞—Å—ã –≤ 24-—á–∞—Å–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ + –º–∏–Ω—É—Ç—ã
let hour24 = hour + minute / 60.0

// 2. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –≥—Ä–∞–¥—É—Å—ã (15¬∞ –Ω–∞ —á–∞—Å)
let degrees = hour24 * 15.0 - 18.0 * 15.0  // 18:00 = 0¬∞

// 3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Ä–∞–¥–∏–∞–Ω—ã (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ clockwise)
return -CGFloat(degrees) * .pi / 180.0
```

### –ü—Ä–∏–º–µ—Ä—ã:
```swift
18:00 ‚Üí (18 * 15 - 270) = 0¬∞    ‚Üí 0 —Ä–∞–¥–∏–∞–Ω    ‚Üí ‚Üí
19:00 ‚Üí (19 * 15 - 270) = 15¬∞   ‚Üí -œÄ/12       ‚Üí ‚Üò
00:00 ‚Üí (0 * 15 - 270)  = -270¬∞ ‚Üí +3œÄ/2       ‚Üí ‚Üì
06:00 ‚Üí (6 * 15 - 270)  = -180¬∞ ‚Üí +œÄ          ‚Üí ‚Üê
12:00 ‚Üí (12 * 15 - 270) = -90¬∞  ‚Üí +œÄ/2        ‚Üí ‚Üë
```

### –î–µ–ª–µ–Ω–∏—è —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞:

**96 —Ç–∏–∫–æ–≤ = 96 –¥–µ–ª–µ–Ω–∏–π:**
- –ö–∞–∂–¥—ã–π —Ç–∏–∫ = 360¬∞ / 96 = **3.75¬∞** (15 –º–∏–Ω—É—Ç)
- –ß–∞—Å–æ–≤—ã–µ —Ç–∏–∫–∏ (–∫–∞–∂–¥—ã–π 4-–π): `i % 4 == 0`
- –ü–æ–ª—É—á–∞—Å–æ–≤—ã–µ —Ç–∏–∫–∏ (–∫–∞–∂–¥—ã–π 2-–π): `i % 2 == 0`
- 15-–º–∏–Ω—É—Ç–Ω—ã–µ —Ç–∏–∫–∏: –æ—Å—Ç–∞–ª—å–Ω—ã–µ

**–§–æ—Ä–º—É–ª–∞ –¥–ª—è —Ç–∏–∫–æ–≤:**
```swift
let angle = CGFloat(i - 72) * 3.75 * .pi / 180
```

`i = 72` ‚Üí 18:00 ‚Üí 0¬∞ (—Ç–æ—á–∫–∞ –æ—Ç—Å—á—ë—Ç–∞)

---

## üóìÔ∏è –î–Ω–∏ –º–µ—Å—è—Ü–∞ (–≤–Ω–µ—à–Ω–µ–µ –∫–æ–ª—å—Ü–æ)

### –§–æ—Ä–º—É–ª–∞ —É–≥–ª–∞ –¥–Ω—è:

```swift
let degreesPerSector = 360.0 / 31.0  // ~11.61¬∞ –Ω–∞ –¥–µ–Ω—å
let offset = Double(12 - 1) * degreesPerSector + degreesPerSector / 2
return CGFloat((-Double(day - 1) * degreesPerSector + offset + 90) * .pi / 180.0)
```

**–õ–æ–≥–∏–∫–∞:**
- 31 –¥–µ–Ω—å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ –∫—Ä—É–≥—É
- –î–µ–Ω—å 12 –Ω–∞—Ö–æ–¥–∏—Ç—Å—è **–≤–≤–µ—Ä—Ö—É** (12:00 –Ω–∞ —á–∞—Å–∞—Ö)
- –î–Ω–∏ –∏–¥—É—Ç **–ø—Ä–æ—Ç–∏–≤** —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏

**–ü—Ä–∏–º–µ—Ä:**
```
–î–µ–Ω—å 1  ‚Üí –ø—Ä–∞–≤–µ–µ –≤–µ—Ä—Ö–∞
–î–µ–Ω—å 12 ‚Üí –≤–µ—Ä—Ö (‚Üë)
–î–µ–Ω—å 23 ‚Üí –ª–µ–≤–µ–µ –≤–µ—Ä—Ö–∞
–î–µ–Ω—å 31 ‚Üí –ø—Ä–∞–≤–µ–µ –≤–µ—Ä—Ö–∞ (–ø–æ—á—Ç–∏ –¥–µ–Ω—å 1)
```

---

## üé® –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–µ–∫—Å—Ç–∞

–í—Å–µ —Ä–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤ **–∞–¥–∞–ø—Ç–∏–≤–Ω—ã** –∫ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞:

```swift
// –ß–∞—Å—ã (1-24)
let fontSize = size.width * 0.05  // 5% –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞

// –î–Ω–∏ –º–µ—Å—è—Ü–∞ (1-31)
let fontSize = size.width * 0.04  // 4% –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞

// –ü–æ–¥–ø–∏—Å–∏ –≥–æ—Ä–æ–¥–æ–≤
let fontSize = size.width * 0.04  // 4% –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞

// Weekday bubbles
let fontSize = size.width * 0.03  // 3% –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞
```

**–ü–æ—á–µ–º—É `size.width`, –∞ –Ω–µ `baseRadius`?**
–¢–µ–∫—Å—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —ç–∫—Ä–∞–Ω—É, –∞ –Ω–µ —Ä–∞–¥–∏—É—Å—É —á–∞—Å–æ–≤, –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

---

## üîÑ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (—Ç–æ–ª—å–∫–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)

### rotationAngle

```swift
// –í–∏–¥–∂–µ—Ç: rotationAngle = 0 (—Å—Ç–∞—Ç–∏—á–µ–Ω)
// –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: rotationAngle –¥–∏–Ω–∞–º–∏—á–µ–Ω (–∂–µ—Å—Ç—ã + —Ñ–∏–∑–∏–∫–∞)

let totalAngle = arrowAngle + rotationAngle
```

**rotationAngle** –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º **–≤—Ä–∞—â–∞—é—â–∏–º—Å—è —ç–ª–µ–º–µ–Ω—Ç–∞–º:**
- –°—Ç—Ä–µ–ª–∫–∏ –≥–æ—Ä–æ–¥–æ–≤
- –ü–æ–¥–ø–∏—Å–∏ –≥–æ—Ä–æ–¥–æ–≤
- Weekday bubbles

**–°—Ç–∞—Ç–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ù–ï –≤—Ä–∞—â–∞—é—Ç—Å—è:**
- –¢–∏–∫–∏ (96 –¥–µ–ª–µ–Ω–∏–π)
- –ß–∏—Å–ª–∞ —á–∞—Å–æ–≤ (1-24)
- –î–Ω–∏ –º–µ—Å—è—Ü–∞ (1-31)
- –ì–ª–æ–±—É—Å

---

## üìä –í–∏–∑—É–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–¥–∏—É—Å–æ–≤

```
1.00 ‚îÄ‚îê Weekday bubbles (–∫–æ–Ω–µ—Ü —Å—Ç—Ä–µ–ª–æ–∫)
0.93 ‚îÄ‚î§ –î–Ω–∏ –º–µ—Å—è—Ü–∞ (1-31)
0.85 ‚îÄ‚î§ –í–Ω–µ—à–Ω–∏–π –∫—Ä–∞–π —Ç–∏–∫–æ–≤
0.82 ‚îÄ‚î§ 15-–º–∏–Ω—É—Ç–Ω—ã–µ —Ç–∏–∫–∏
0.80 ‚îÄ‚î§ –ü–æ–ª—É—á–∞—Å–æ–≤—ã–µ —Ç–∏–∫–∏
0.78 ‚îÄ‚î§ –ß–∞—Å–æ–≤—ã–µ —Ç–∏–∫–∏
0.70 ‚îÄ‚î§ –ß–∏—Å–ª–∞ —á–∞—Å–æ–≤ (1-24) + –ö–æ–Ω–µ—Ü —Å—Ç—Ä–µ–ª–æ–∫
0.62 ‚îÄ‚î§ –ì–ª–æ–±—É—Å (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç)
      ‚îî‚îÄ center (0,0)
```

---

## üßÆ –ü–æ–ª–µ–∑–Ω—ã–µ —Ö–µ–ª–ø–µ—Ä—ã

### pointOnCircle
```swift
private func pointOnCircle(center: CGPoint, radius: CGFloat, angle: CGFloat) -> CGPoint {
    return CGPoint(
        x: center.x + cos(angle) * radius,
        y: center.y + sin(angle) * radius
    )
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```swift
// –ü–æ–ª—É—á–∏—Ç—å —Ç–æ—á–∫—É –Ω–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ —Ä–∞–¥–∏—É—Å–∞ R –ø–æ–¥ —É–≥–ª–æ–º Œ∏
let position = pointOnCircle(center: center, radius: baseRadius * 0.7, angle: arrowAngle)
```

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–¥—É—Å–æ–≤ –≤ —Ä–∞–¥–∏–∞–Ω—ã
```swift
let radians = degrees * .pi / 180.0
```

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–¥–∏–∞–Ω –≤ –≥—Ä–∞–¥—É—Å—ã
```swift
let degrees = radians * 180.0 / .pi
```

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

| –ß—Ç–æ –Ω—É–∂–Ω–æ | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ |
|-----------|------------|
| –ü–æ–∑–∏—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–µ | `baseRadius * –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç` |
| –†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ | `size.width * –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç` |
| –£–≥–æ–ª –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ | `calculateArrowAngle(for: city)` |
| –¢–æ—á–∫–∞ –Ω–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ | `pointOnCircle(center:radius:angle:)` |
| –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | `totalAngle = angle + rotationAngle` |

---

## üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –∫–æ–¥–µ

1. **–£–≥–ª—ã –≤—Å–µ–≥–¥–∞ –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö** (–Ω–µ –≥—Ä–∞–¥—É—Å–∞—Ö)
2. **18:00 = 0¬∞** (—Ç–æ—á–∫–∞ –æ—Ç—Å—á—ë—Ç–∞ —Å–ø—Ä–∞–≤–∞ ‚Üí)
3. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —É–≥–ª—ã** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ
4. **baseRadius** - –µ–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–∞–¥–∏—É—Å–æ–≤
5. **size.width** - –±–∞–∑–∞ –¥–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–µ–∫—Å—Ç–∞

---

## üöÄ –¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç

```swift
// 1. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–¥–∏—É—Å (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ baseRadius)
let myRadius = baseRadius * 0.75  // –ú–µ–∂–¥—É —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏ —á–∏—Å–ª–∞–º–∏

// 2. –í—ã—á–∏—Å–ª–∏—Ç–µ —É–≥–æ–ª (–µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–∏)
let angle = calculateArrowAngle(for: city)

// 3. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é
let position = pointOnCircle(center: center, radius: myRadius, angle: angle)

// 4. –ù–∞—Ä–∏—Å—É–π—Ç–µ
context.draw(myElement, at: position)
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞

```swift
// –ù–∞–π–¥–∏—Ç–µ –≤ –∫–æ–¥–µ —Ç–µ–∫—É—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:
let currentRadius = baseRadius * 0.7

// –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (0.0 - 1.0):
let newRadius = baseRadius * 0.8  // –£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ 10%
```

### –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–∞—â–∞—é—â–∏–π—Å—è —ç–ª–µ–º–µ–Ω—Ç

```swift
// –í drawRotatingElements():
let totalAngle = someAngle + rotationAngle  // ‚Üê –î–æ–±–∞–≤—å—Ç–µ rotationAngle!
```

---

**–ê–≤—Ç–æ—Ä:** Claude Code
**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-10-09
