# SwiftUI World Clock

–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è TimeVector2 —á–∞—Å–æ–≤ —Å SpriteKit –Ω–∞ SwiftUI.

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∏—Ä–æ–≤—ã–µ —á–∞—Å—ã —Å 24-—á–∞—Å–æ–≤—ã–º —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–æ–º, –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å SpriteKit –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π SwiftUI. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª–∞, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ SwiftUI.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **24-—á–∞—Å–æ–≤–æ–π —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç** —Å —Ü–∏—Ñ—Ä–∞–º–∏ –æ—Ç 01 –¥–æ 24
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞** —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ** —Å –ø–æ–º–æ—â—å—é DragGesture
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–Ω–µ–π –º–µ—Å—è—Ü–∞** –ø–æ –∫—Ä—É–≥—É (01-31)
- **–ù–æ–º–µ—Ä–∞ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏** –Ω–∞ –∫–æ–Ω—Ü–∞—Ö —Å—Ç—Ä–µ–ª–æ–∫
- **–ú–∞–≥–Ω–∏—Ç–Ω–æ–µ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ** –∫ —á–∞—Å–æ–≤—ã–º –º–µ—Ç–∫–∞–º
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–æ–≤** —á–µ—Ä–µ–∑ AppStorage
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞
- **–ê–Ω–∏–º–∞—Ü–∏–∏** –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ —Å–Ω—ç–ø–∞ –∫ —Ç–∏–∫–∞–º

### üîÑ –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `AppWorldCity` ‚Üí `WorldCity` (–º–æ–¥–µ–ª—å –≥–æ—Ä–æ–¥–∞)
- `ClockConstants` ‚Üí `ClockConstants` (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ä–∞—Å—á–µ—Ç—ã)
- `Layer01_StaticBackground` ‚Üí `StaticBackgroundView` (—Ñ–æ–Ω, —Ü–∏—Ñ—Ä—ã, —Ç–∏–∫–∏)
- `Layer05_RotatingContainer` ‚Üí `CityArrowsView` (—Å—Ç—Ä–µ–ª–∫–∏ –≥–æ—Ä–æ–¥–æ–≤)
- `ClockScene` ‚Üí `ClockViewModel` (–ª–æ–≥–∏–∫–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- `MainContentView` ‚Üí `ClockFaceView` (–æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

### üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –≤–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ SpriteKit
- **–†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ @Published –∏ @StateObject
- **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –±–µ–∑ —Ç—è–∂–µ–ª–æ–π —Ñ–∏–∑–∏–∫–∏ SpriteKit
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞** –∏ –ª–µ–≥–∫–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- **–ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å SwiftUI —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
SwiftUIClock/
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îú‚îÄ‚îÄ WorldCity.swift           # –ú–æ–¥–µ–ª—å –≥–æ—Ä–æ–¥–∞ —Å —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ ClockConstants.swift      # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ä–∞—Å—á–µ—Ç—ã —É–≥–ª–æ–≤
‚îú‚îÄ‚îÄ ViewModels/
‚îÇ   ‚îî‚îÄ‚îÄ ClockViewModel.swift      # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îú‚îÄ‚îÄ Views/
‚îÇ   ‚îú‚îÄ‚îÄ ClockFaceView.swift       # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ StaticBackgroundView.swift # –§–æ–Ω, —Ü–∏—Ñ—Ä—ã, —Ç–∏–∫–∏, –¥–Ω–∏ –º–µ—Å—è—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ CityArrowsView.swift      # –°—Ç—Ä–µ–ª–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –∏ –≥–ª–æ–±—É—Å
‚îú‚îÄ‚îÄ Helpers/
‚îÇ   ‚îî‚îÄ‚îÄ AngleCalculations.swift   # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îî‚îÄ‚îÄ SwiftUIClockApp.swift         # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `SwiftUIClock/` –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç ClockW3
2. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ Xcode –ø—Ä–æ–µ–∫—Ç
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ `globe2` –≤ Assets.xcassets (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∂–µ—Å—Ç—ã
- **–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ** - –ø–æ–≤–æ—Ä–æ—Ç —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–∞
- **–û—Ç–ø—É—Å–∫–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–Ω—ç–ø –∫ –±–ª–∏–∂–∞–π—à–µ–º—É —Ç–∏–∫—É
- **–ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞** (—Å–≤–µ—Ä—Ö—É) - –≤–æ–∑–≤—Ä–∞—Ç –∫ –Ω—É–ª–µ–≤–æ–º—É –ø–æ–ª–æ–∂–µ–Ω–∏—é

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –û—Ç–∫—Ä–æ–π—Ç–µ Settings –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ AppStorage
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤
–í `ClockViewModel` –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞:

```swift
viewModel.addCity(WorldCity(
    name: "Paris", 
    timeZoneIdentifier: "Europe/Paris", 
    colorHex: "#FF6B6B"
))
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –†–∞—Å—á–µ—Ç —É–≥–ª–æ–≤ —Å—Ç—Ä–µ–ª–æ–∫
–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ SpriteKit –ø—Ä–æ–µ–∫—Ç–∞:

```swift
let hour24 = Double(hour) + Double(minute) / 60.0
let degrees = hour24 * 15.0 - 18.0 * 15.0  // 18:00 = –æ–ø–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ (0¬∞)
let angle = -degrees * Double.pi / 180.0   // –†–∞–¥–∏–∞–Ω—ã
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- `DragGesture` –∑–∞–º–µ–Ω—è–µ—Ç SpriteKit touch handling
- `withAnimation` –∑–∞–º–µ–Ω—è–µ—Ç SKAction –∞–Ω–∏–º–∞—Ü–∏–∏
- Timer —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ñ–∏–∑–∏–∫—É –∑–∞—Ç—É—Ö–∞–Ω–∏—è –∏ –∏–Ω–µ—Ä—Ü–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- Canvas –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π (—Ç–∏–∫–∏)
- ForEach –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Ü–∏—Ñ—Ä—ã, –¥–Ω–∏)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è SwiftUI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º

| –ê—Å–ø–µ–∫—Ç | SpriteKit (–æ—Ä–∏–≥–∏–Ω–∞–ª) | SwiftUI (–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) |
|--------|---------------------|------------------------|
| –ö–æ–¥ | ~2000+ —Å—Ç—Ä–æ–∫ | ~800 —Å—Ç—Ä–æ–∫ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –¢—è–∂–µ–ª–∞—è —Ñ–∏–∑–∏–∫–∞ | –õ–µ–≥–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ—Å—Ç–∞—è |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ü–µ–Ω–∞ | –ù–∞—Ç–∏–≤–Ω—ã–π SwiftUI |
| –ê–Ω–∏–º–∞—Ü–∏–∏ | SKAction | withAnimation |
| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ | –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ |

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2025-10-09)

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ
- **–£–ø—Ä–æ—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: —É–±—Ä–∞–Ω—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å, –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –∏ –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∏ –≥–æ—Ä–æ–¥–æ–≤**: –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–µ–ª–∫–∞—Ö –≤ —Ä–∞–∑—Ä—ã–≤–∞—Ö –ª–∏–Ω–∏–π
- **–°–æ–∑–¥–∞–Ω –≤–∏–¥–∂–µ—Ç**: –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (—Å–º. WIDGET_SETUP.md)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –£–¥–∞–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏ –≥–æ—Ä–æ–¥–æ–≤
- –£–¥–∞–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –≤—Ä–∞—â–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–æ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `CityLabelView` - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–µ–ª–∫–µ
- `ClockWidget.swift` - –≤–∏–¥–∂–µ—Ç –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- `WIDGET_SETUP.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤–∏–¥–∂–µ—Ç–∞

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –•–∞–ø—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ —Å–Ω—ç–ø–µ –∫ —Ç–∏–∫–∞–º
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
- [x] –í–∏–¥–∂–µ—Ç –¥–ª—è iOS ‚úÖ
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ macOS
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ TimeVector2.